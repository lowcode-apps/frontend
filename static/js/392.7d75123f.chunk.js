"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[392],{392:(n,e,i)=>{i.r(e),i.d(e,{default:()=>F});var t,r=i(57482),a=i(73974),s=i(16043),d=i(61889),o=i(32588),l=i(72791),c=i(91933),x=i(94294),h=i(30168),m=i(49256);const p=m.ZP.div(t||(t=(0,h.Z)(["\n  display: flex;\n  justify-content: space-between;\n  font-family: Arial, Helvetica, sans-serif;\n  border-bottom: 1px solid lightblue;\n  padding-bottom: 20px;\n\n  div {\n    flex: 1;\n  }\n\n  .information,\n  .buttons {\n    display: flex;\n    justify-content: space-between;\n  }\n\n  img {\n    max-width: 80px;\n    object-fit: cover;\n    margin-left: 40px;\n  }\n"])));var u=i(80184);const j=n=>{let{item:e,addToCart:i,removeFromCart:t}=n;return(0,u.jsxs)(p,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:e.title}),(0,u.jsxs)("div",{className:"information",children:[(0,u.jsxs)("p",{children:["Price: \u20b9",e.price]}),(0,u.jsxs)("p",{children:["Total: \u20b9",(e.amount*e.price).toFixed(2)]})]}),(0,u.jsxs)("div",{className:"buttons",children:[(0,u.jsx)(x.Z,{size:"small",disableElevation:!0,variant:"contained",onClick:()=>t(e.id),children:"-"}),(0,u.jsx)("p",{children:e.amount}),(0,u.jsx)(x.Z,{size:"small",disableElevation:!0,variant:"contained",onClick:()=>i(e),children:"+"})]})]}),(0,u.jsx)("img",{src:e.image,alt:e.title})]})};var v;const f=m.ZP.aside(v||(v=(0,h.Z)(["\n  font-family: Arial, Helvetica, sans-serif;\n  width: 500px;\n  padding: 20px;\n"]))),b=n=>{let{cartItems:e,addToCart:i,removeFromCart:t}=n;return(0,u.jsxs)(f,{children:[(0,u.jsx)("h2",{children:"Your Cart"}),0===e.length?(0,u.jsx)("p",{children:"No items in cart."}):null,e.map((n=>(0,u.jsx)(j,{item:n,addToCart:i,removeFromCart:t},n.id))),(0,u.jsxs)("h2",{children:["Total: \u20b9",(r=e,r.reduce(((n,e)=>n+e.amount*e.price),0)).toFixed(2)]})]});var r};var g;const Z=m.ZP.div(g||(g=(0,h.Z)(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  width: 100%;\n  border: 1px solid lightblue;\n  border-radius: 20px;\n  height: 100%;\n\n  button {\n    border-radius: 0 0 20px 20px;\n  }\n\n  img {\n    max-height: 250px;\n    object-fit: cover;\n    border-radius: 20px 20px 0 0;\n  }\n\n  div {\n    font-family: Arial, Helvetica, sans-serif;\n    padding: 1rem;\n    height: 100%;\n  }\n"]))),C=n=>{let{item:e,handleAddToCart:i}=n;return(0,u.jsxs)(Z,{children:[(0,u.jsx)("img",{src:e.image,alt:e.title}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:e.title}),(0,u.jsx)("p",{children:e.description}),(0,u.jsxs)("h3",{children:["\u20b9",e.price]})]}),(0,u.jsx)(x.Z,{onClick:()=>i(e),children:"Add to cart"})]})};var w,y,k=i(13400);const P=m.ZP.div(w||(w=(0,h.Z)(["\n  margin: 40px;\n"]))),T=(0,m.ZP)(k.Z)(y||(y=(0,h.Z)(["\n  position: fixed;\n  z-index: 100;\n  right: 20px;\n  top: 20px;\n"]))),A=async()=>await(await fetch("https://fakestoreapi.com/products")).json();function F(){const[n,e]=(0,l.useState)(!1),[i,t]=(0,l.useState)([]),{data:x,isLoading:h,error:m}=(0,c.useQuery)("products",A),p=n=>{t((e=>e.find((e=>e.id===n.id))?e.map((e=>e.id===n.id?{...e,amount:e.amount+1}:e)):[...e,{...n,amount:1}]))};return h?(0,u.jsx)(r.Z,{}):m?(0,u.jsx)("div",{children:"Something went wrong"}):(0,u.jsxs)(P,{children:[(0,u.jsx)(a.ZP,{anchor:"right",open:n,onClose:()=>e(!1),children:(0,u.jsx)(b,{cartItems:i,addToCart:p,removeFromCart:n=>{t((e=>e.reduce(((e,i)=>i.id===n?1===i.amount?e:[...e,{...i,amount:i.amount-1}]:[...e,i]),[])))}})}),(0,u.jsx)(T,{onClick:()=>e(!0),children:(0,u.jsx)(s.Z,{badgeContent:(j=i,j.reduce(((n,e)=>n+e.amount),0)),color:"error",children:(0,u.jsx)(o.Z,{})})}),(0,u.jsx)(d.ZP,{container:!0,spacing:3,children:null===x||void 0===x?void 0:x.map((n=>(0,u.jsx)(d.ZP,{item:!0,xs:12,sm:4,children:(0,u.jsx)(C,{item:n,handleAddToCart:p})},n.id)))})]});var j}}}]);
//# sourceMappingURL=392.7d75123f.chunk.js.map